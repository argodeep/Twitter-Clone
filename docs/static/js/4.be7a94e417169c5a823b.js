(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{H7QS:function(e,t,a){},aHuy:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a("J4zp"),c=a.n(n),r=a("q1tI"),l=a.n(r),i=a("Ty5D"),s=a("xGDI"),o=a("cytO");function d(){var e=Object(r.useState)(!1),t=c()(e,2),a=t[0],n=t[1],d=Object(i.g)();return Object(r.useEffect)((function(){return n(!0),function(){console.log("Compose unmounted")}})),l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(s.a,null,l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-view"},l.a.createElement("div",{className:"modal-header",onClick:function(){return d.replace("/home")}},"×"),l.a.createElement("div",{className:"modal-body"},l.a.createElement(o.a,{isPosted:function(){return d.replace("/home")},rows:7}))))))}},cytO:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a("o0o1"),c=a.n(n),r=a("yXPU"),l=a.n(r),i=a("J4zp"),s=a.n(i),o=a("q1tI"),d=a.n(o),u=a("/MKj"),m=a("55Ip"),v=a("UUyv"),p=a("gFSH"),E=a("eky9");a("H7QS");function f(e){var t=e.content,a=e.id,n=void 0===a?null:a,r=e.rows,i=void 0===r?2:r,f=e.isPosted,b=Object(o.useState)(""),g=s()(b,2),N=g[0],w=g[1],h=Object(o.useState)(!1),O=s()(h,2),k=O[0],y=O[1],j=Object(o.useState)(""),I=s()(j,2),C=I[0],S=I[1],x=Object(u.c)((function(e){return e.currentUser})),D=Object(u.b)();function T(){return(T=l()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),!(N.length>0&&0===C.length)){e.next=7;break}return S(""),e.next=5,D(Object(p.j)(n,x.id,N));case 5:"string"!=typeof(t=e.sent)||"TWEET_HAS_BEEN_POSTED"!==t||n||(y(!1),w(""),f(!0));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){return function(){console.log("Create Post Unmounted")}}),[]),d.a.createElement(o.Fragment,null,n&&d.a.createElement("div",null,d.a.createElement(E.a,{content:t,thread:!0,forReply:!0}),d.a.createElement("p",null)),d.a.createElement("div",{className:"create-post-wrapper"},d.a.createElement(m.b,{to:x.username},d.a.createElement(v.LazyLoadImage,{alt:"user-avatar",className:"avatar",src:x.profile_image})),d.a.createElement("div",null,d.a.createElement("textarea",{rows:i,value:N,onChange:function(e){w(e.target.value),e.target.value.length>140?S("Post a tweet within 140 characters limit"):S("")},placeholder:n?"Tweet your reply":"What's Happening?"}),d.a.createElement("span",{className:"post-action"},d.a.createElement("span",null,C&&d.a.createElement("span",{className:"error-message"},C),!C&&N.length>0&&d.a.createElement("span",{className:"info-message"},140-N.length," left")),d.a.createElement("button",{className:"add-tweet",disabled:!(!C&&!k&&0!==N.length),onClick:function(){return function(){return T.apply(this,arguments)}()}},k?"Sending Tweet":"Tweet")))))}},eky9:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("J4zp"),c=a.n(n),r=a("q1tI"),l=a.n(r),i=a("UUyv"),s=a("/MKj"),o=a("55Ip"),d=(a("nlOY"),a("AwEm")),u=a("xGDI"),m=a("cytO"),v=a("E0/h"),p=a.p+"static/media/12b85df85915f2e980c67c0b63469c45.svg",E=a.p+"static/media/dbae9690e75c2a60cddd820992eb973a.svg",f=a.p+"static/media/4b8be79f40d4074c710963f276aaa88e.svg",b=a.p+"static/media/b95dea25792367e68a80d45047fd3e63.svg",g=a.p+"static/media/8b733236e3d1671c23fbf649cd7e123f.svg",N=a.p+"static/media/af875c3218e288dbc3b024e6ddbdd7e5.svg";var w=a("gFSH");function h(e){var t,a,n,h,O,k,y,j=e.content,I=e.thread,C=void 0!==I&&I,S=e.forReply,x=void 0!==S&&S,D=Object(r.useState)(!1),T=c()(D,2),F=T[0],H=T[1],P=Object(r.useState)(!1),U=c()(P,2),L=U[0],z=U[1],J=Object(s.c)((function(e){return e.users})),_=Object(s.c)((function(e){return e.stats})),q=Object(s.c)((function(e){return e.currentUser})),M=Object(s.b)();return Object(r.useEffect)((function(){return function(){console.log("Post unmounted")}}),[_]),l.a.createElement("div",{className:"post-wrapper"+(C||x?" hide-border":"")},l.a.createElement("div",null,l.a.createElement(o.b,{to:J[j.userId].username},l.a.createElement(i.LazyLoadImage,{alt:"user-avatar",className:"avatar",src:J[j.userId].profile_image})),C&&l.a.createElement("div",{className:"thread"})),l.a.createElement("div",null,l.a.createElement("span",{className:"post-row"},l.a.createElement("span",{className:"name"},l.a.createElement(o.b,{to:J[j.userId].username},J[j.userId].name)),l.a.createElement("span",{className:"username"},l.a.createElement(o.b,{to:J[j.userId].username},"@",J[j.userId].username)),l.a.createElement("span",{className:"time"},"· ",(k=j.date,(y=((new Date).getTime()-new Date(k).getTime())/1e3)<=59?y.toFixed()+" Sec":y>=59&&y<120?(y/60).toFixed()+"  Min":y>=119&&y<3600?(y/60).toFixed()+"  Mins":y>=3600&&y<7200?(y/60/60).toFixed()+" Hr":y>=7199&&y<86399?(y/60/60).toFixed()+" Hrs":y>=86400?new Date(k).toDateString().slice(4,10):"")),l.a.createElement(d.a,{alt:"profile-expand-icon",src:v.a})),l.a.createElement("pre",{className:"post-content"},j.content),x&&l.a.createElement("p",{className:"reply-username"},l.a.createElement("span",{className:"username"},"Replying to "),l.a.createElement(o.b,{to:J[j.userId].username},"@",J[j.userId].username)),!x&&l.a.createElement("span",{className:"post-action"},l.a.createElement("span",{className:"actions"},l.a.createElement(d.a,{alt:"comment-icon",src:p,onClick:function(){H((function(e){return!e}))}}),(null===(t=_[j.id])||void 0===t?void 0:t.commentsCount)>0&&l.a.createElement("span",{className:"value"},null===(a=_[j.id])||void 0===a?void 0:a.commentsCount)),l.a.createElement("span",{className:"actions"},l.a.createElement(d.a,{alt:"retweet-icon",src:E})),l.a.createElement("span",{className:"actions"},l.a.createElement(d.a,{alt:"like-icon",src:void 0!==((null===(n=_[j.id])||void 0===n?void 0:n.likes)||{})[q.id]?b:f,onClick:function(){var e,t,a,n;return t=((null===(e=_[j.id])||void 0===e?void 0:e.likes)||{})[q.id],L||(z(!0),void 0!==t?(M(Object(w.h)(j.id,q.id)),delete _[j.id].likes[q.id],_[j.id].likeCount=(null===(a=_[j.id])||void 0===a?void 0:a.likeCount)-1):(M(Object(w.a)(j.id,q.id)),void 0===_[j.id].likes?(_[j.id].likes={},_[j.id].likes[q.id]={date:(new Date).toLocaleString()}):_[j.id].likes[q.id]={date:(new Date).toLocaleString()},_[j.id].likeCount=(null===(n=_[j.id])||void 0===n?void 0:n.likeCount)+1)),void setTimeout((function(){z(!1)}),0)}}),!L&&(null===(h=_[j.id])||void 0===h?void 0:h.likeCount)>0&&l.a.createElement("span",{className:"value"},null===(O=_[j.id])||void 0===O?void 0:O.likeCount)),l.a.createElement("span",{className:"actions"},l.a.createElement(d.a,{alt:"share-icon",src:g})),l.a.createElement("span",{className:"actions not-mobile-visible"},l.a.createElement(d.a,{alt:"analytics-icon",src:N})))),F&&l.a.createElement(u.a,null,l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"modal-view"},l.a.createElement("div",{className:"modal-header",onClick:function(){return H((function(e){return!e}))}},"×"),l.a.createElement("div",{className:"modal-body"},l.a.createElement(m.a,{content:j,id:j.id,rows:7}))))))}},nlOY:function(e,t,a){},xGDI:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("q1tI"),c=a("i8i4");function r(e){var t=e.children,a=document.getElementById("modal-root"),r=document.createElement("div");return Object(n.useEffect)((function(){return a.appendChild(r),function(){return a.removeChild(r)}}),[]),Object(c.createPortal)(t,r)}}}]);